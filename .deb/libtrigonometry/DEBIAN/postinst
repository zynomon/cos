#!/bin/bash

normal_install() {
echo "Configuring.."
    rm -rf /usr/include/trigonometry
   sudo ldconfig
}

finalize() {
    echo "Finalizing..."
}

case "$1" in
    configure)
        echo "Final step,"

        timeout=5
        answer="n"

        # Prompt with timeout (defaults to "n" if no input)
        echo -n "Do you want to install libtrigonometry headers for development? (y/n) "
        if read -t "$timeout" -n 1 reply 2>/dev/null; then
            answer="$reply"
        fi
        echo

        if [[ "${answer,,}" == "y" ]]; then
            sudo ldconfig
        else
            normal_install
        fi

        finalize
        ;;
esac
